{"version":3,"names":["cov_1ynukautvj","actualCoverage","winston","s","require","Logger","constructor","f","logger","createLogger","level","b","process","env","LOG_LEVEL","format","combine","timestamp","errors","stack","json","defaultMeta","service","transports","File","filename","Console","colorize","simple","info","message","meta","error","name","warn","debug","createRequestLogger","req","res","next","start","Date","now","on","duration","method","url","originalUrl","statusCode","userAgent","get","ip","module","exports"],"sources":["logger.js"],"sourcesContent":["// Backend Utilities - Logger\nconst winston = require('winston');\n\nclass Logger {\n  constructor() {\n    this.logger = winston.createLogger({\n      level: process.env.LOG_LEVEL || 'info',\n      format: winston.format.combine(\n        winston.format.timestamp(),\n        winston.format.errors({ stack: true }),\n        winston.format.json()\n      ),\n      defaultMeta: { service: 'codeguardian-ai' },\n      transports: [\n        new winston.transports.File({ filename: 'logs/error.log', level: 'error' }),\n        new winston.transports.File({ filename: 'logs/combined.log' }),\n        new winston.transports.Console({\n          format: winston.format.combine(\n            winston.format.colorize(),\n            winston.format.simple()\n          )\n        })\n      ]\n    });\n  }\n\n  info(message, meta = {}) {\n    this.logger.info(message, meta);\n  }\n\n  error(message, error = null, meta = {}) {\n    this.logger.error(message, {\n      error: error ? {\n        message: error.message,\n        stack: error.stack,\n        name: error.name\n      } : null,\n      ...meta\n    });\n  }\n\n  warn(message, meta = {}) {\n    this.logger.warn(message, meta);\n  }\n\n  debug(message, meta = {}) {\n    this.logger.debug(message, meta);\n  }\n\n  // Create request logger middleware\n  createRequestLogger() {\n    return (req, res, next) => {\n      const start = Date.now();\n      \n      res.on('finish', () => {\n        const duration = Date.now() - start;\n        this.info('HTTP Request', {\n          method: req.method,\n          url: req.originalUrl,\n          statusCode: res.statusCode,\n          duration: `${duration}ms`,\n          userAgent: req.get('User-Agent'),\n          ip: req.ip\n        });\n      });\n      \n      next();\n    };\n  }\n}\n\n// Export singleton instance\nmodule.exports = new Logger();\n"],"mappings":"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","ignoreList":[]}